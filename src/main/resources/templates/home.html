<!DOCTYPE html>
<html layout:decorate="~{layout/base.html}">
    <head>
        <title>Home</title>
    </head>

    <body>
        <section layout:fragment="content">
            <ul>
                <li th:each="book : ${books}">
                    <p>[[${book.author.name + ' - ' + book.title + ' (' + book.user.username + ', ' + book.bookStatus.name + ')'}]]</p>
                </li>
            </ul>

            <p th:if="${status}">[[${status}]]</p>

            <button sec:authorize="hasRole('ROLE_USER')" onclick="logout()">Sortir</button>

            <script>
                function logout() {
                    document.querySelector('form').submit();
                }
            </script>

            <form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
               <input hidden type="submit" value="Sign Out"/>
            </form>
        </section>

        <footer>
            <p layout:fragment="custom-footer">
                This is some footer content from content page 1
            </p>
        </footer>
    </body>
</html>
